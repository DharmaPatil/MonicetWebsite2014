<?php


/**
 * Skeleton subclass for representing a row from the 'watch_info' table.
 *
 * 
 *
 * This class was autogenerated by Propel 1.5.0-dev on:
 *
 * Wed Oct 19 17:11:57 2011
 *
 * You should add additional methods to this class to meet the
 * application requirements.  This class will only be generated as
 * long as it does not already exist in the output directory.
 *
 * @package    propel.generator.lib.model
 */
class WatchInfo extends BaseWatchInfo {
	public function __toString()
	{
	    return $this->getCode();
	}
	
	public function getWatchSightings($criteria = null, PropelPDO $con = null)
	{
		$watch_sightings = WatchSightingQuery::create(null, $criteria)
			->filterByWatchInfoId($this->getId())
			->orderBy('Id')
			->find($con);
		return $watch_sightings;
	}
	
	public function getSpecies() {
    
	    $sightings = WatchSightingQuery::create()
	    ->filterByWatchInfoId($this->getId())
	    ->orderBy('Id','asc')
	    ->find();
	    
	    $species = array();
	    
	    foreach($sightings as $s){
	        if($s->getSpecieId()) $species[] = SpeciePeer::retrieveByPk($s->getSpecieId());
	    }
	    
	    return $species;
	    
	    
	}
} // WatchInfo
